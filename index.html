606<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="dash.css">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ListToBid Dashboard</title>
  <link rel="stylesheet" href="dashboard.css" />
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
</head>
<body>
  <aside class="sidebar">
    <div class="sidebar-title">ListToBid</div>
    <nav class="sidebar-nav">
      <ul>
        <li><a href="#">Dashboard</a></li>
        <li><a href="#">Listings</a></li>
        <li><a href="#">Settings</a></li>
      </ul>
    </nav>
    <footer><button id="logout">Sign Out</button></footer>
  </aside>

  <main class="main-content">
    <h2>Welcome, Babak Sepehri</h2>
    <div class="steward-profile">
      <div class="photo-placeholder">Steward Photo</div>
      <div class="info">
        <h3>Bo Sepehri</h3>
        <p>Trusted Stewards: ✅</p>
        <p>Referral Constellation: Active ✅</p>
        <p>Echoes Earned: 12 ✅</p>
        <p>Credits Earned: 124 ✅</p>
      </div>
<p class="glyph-tier">Tier: <strong>Constellant ☉</strong></p>
    </div>

    <!-- 🔥 Listing Form Starts Here -->
    <form id="listingForm">
      <fieldset class="listing-section">
        <legend>New Listing</legend>
        <label>Item Name: <input type="text" name="itemName" required /></label>
        <label>Price: <input type="number" name="price" min="1" required /></label>
        <label>Description: <textarea name="description"></textarea></label>
        <label>Condition:
          <select name="condition">
            <option>New</option>
            <option>Good</option>
            <option>Fair</option>
            <option>Poor</option>
          </select>
        </label>
        <label>Shipping:
          <input type="radio" name="shipping" value="Pickup" /> Pickup
          <input type="radio" name="shipping" value="Delivery" /> Delivery
        </label>
      </fieldset>
      <button type="submit">Fire Listing</button>
    </form>

<section id="feed">
  <h2>Your Listings</h2>
  <div id="listing-feed">
    <!-- Listing cards will be inserted here -->
<div class="listing-card">
  <h3 class="listing-title">Vintage Lamp</h3>
  <p class="listing-price">$45</p>
  <p class="listing-description">Brass base, warm glow, perfect for reading.</p>
  <p class="listing-condition">Condition: Used</p>
  <p class="listing-shipping">Shipping: Available</p>

  <div class="listing-controls">
    <button class="edit-btn">Edit</button>
    <button class="remove-btn">Remove</button>
    <button class="history-btn">History</button>
  </div>
<section id="feed">
  <h2>Your Listings</h2>
  <div id="listing-feed"></div>
</section>
<span class="${getGlyphClass(inaccurateCount)}" title="${inaccurateCount} strikes this quarter"></span>
</div>
  </div>
</section>

    <!-- 🔥 Listing Form Ends Here -->

    <!-- 📦 Listing Feed -->
    <div id="listingFeed"></div>
<div class="listing-card">
  <h3 class="listing-title">Vintage Lamp</h3>
  <p class="listing-price">$45</p>
  <p class="listing-description">Brass base, warm glow, perfect for reading.</p>
  <p class="listing-condition">Condition: Used</p>
  <p class="listing-shipping">Shipping: Available</p>

  <div class="listing-controls">
    <button class="edit-btn">Edit</button>
    <button class="remove-btn">Remove</button>
    <button class="history-btn">History</button>
  </div>
</div>

    <!-- 💰 Vaultie Stage -->
    <div id="vaultieStage">
      <div id="scheduledQuantity">Scheduled: 0</div>
      <div id="vaultiesBagged">Vaulties Bagged: 0</div>
      <div id="vaultReference">Vault Ref: —</div>
    </div>

    <!-- 🌐 Referral Impact -->
    <div id="referralImpact">
      <div>Enrolled Referrals: 3</div>
      <div>Ripple: +2%</div>
    </div>

    <!-- 🎁 Blessing Grid -->
    <div class="blessing-grid">
      <div class="grid-cell blessing">
        <div class="label">Scheduled Listing</div>
        <div class="value">$42</div>
      </div>
      <div class="grid-cell bagged">
        <div class="label">Vaultie Bagged</div>
        <div class="value">👜</div>
      </div>
      <div class="grid-cell referral">
        <div class="label">Referral Ripple</div>
        <div class="value">+2%</div>
      </div>
      <div class="grid-cell oops">
        <div class="label">Ooos</div>
        <div class="value">⚡</div>
      </div>

<section id="blessings-tab">
  <h2>Your Blessings</h2>
  <div id="blessing-feed"></div>
</section>
    </div>

    <!-- 🔊 Referral Echo -->
    <div id="referralEcho" style="margin-top:12px; font-size:0.9em; color:#14234B;"></div>

    <!-- 🧰 Vaulties Grid -->
    <div id="vaultiesGrid" style="display:grid; grid-template-columns:repeat(6, 1fr); gap:24px;"></div>
  </main>

  <script src="dashboard.js"></script>
  <script>
    const vaulties = [
      { type: "coin", label: "Sale #1" },
      { type: "echo", label: "Referral by steward123" },
      { type: "light", label: "Vintage Lamp" },
      { type: "glyph", label: "Unlocked: Orion" },
      { type: "chest", label: "Milestone: 5 Listings" }
    ];

    function getVaultIcon(type) {
      switch (type) {
        case "coin": return "🪙";
        case "echo": return "📣";
        case "light": return "💡";
        case "glyph": return "🔣";
        case "chest": return "🧰";
        default: return "❔";
      }
    }

    const grid = document.getElementById("vaultiesGrid");
    vaulties.forEach(v => {
      const title = document.createElement("div");
      title.style.border = "1px solid #ccc";
      title.style.borderRadius = "8px";
      title.style.background = "#f0f0f0";
      title.style.textAlign = "center";
      title.style.padding = "12px";
      title.innerHTML = `
        <div style="font-size: 24px">${getVaultIcon(v.type)} ${v.label}</div>
        <div style="padding-top: 8px; font-size: 0.85em">${v.label}</div>
      `;
      grid.appendChild(title);
    });

    const referrer = localStorage.getItem("referrer");
    if (referrer) {
      document.getElementById("referralEcho").textContent = `Blessed by ${referrer}`;
    }

    firebase.auth().onAuthStateChanged((user) => {
      if (!user) window.location.href = "index.html";
    });
  </script>

<script src="dash.js"></script>

</body>
</html>
<div id="edit-modal" class="modal">
  <div class="modal-content">
    <h3>Edit Listing</h3>
    <form id="edit-form">
      <input type="text" id="edit-title" placeholder="Title">
      <input type="text" id="edit-price" placeholder="Price">
      <textarea id="edit-description" placeholder="Description"></textarea>
      <input type="text" id="edit-condition" placeholder="Condition">
      <input type="text" id="edit-shipping" placeholder="Shipping">
      <button type="submit">Save Changes</button>
      <button type="button" onclick="closeEditModal()">Cancel</button>
    </form>
  </div>

<div id="remove-modal" class="modal">
  <div class="modal-content">
    <h3>Remove Listing?</h3>
    <p>This action cannot be undone.</p>
    <button onclick="removeListing()">Yes, Remove</button>
    <button onclick="closeRemoveModal()">Cancel</button>
  </div>
<div id="history-modal" class="modal">
  <div class="modal-content">
    <h3>Listing History</h3>
    <ul id="history-log"></ul>
    <button onclick="closeHistoryModal()">Close</button>
  </div>
<div class="listing-card">
  <h3>Vintage Lamp</h3>
  <p>Owner: abc123</p>
  <button onclick="flagListing('listingID', 'ownerUID')">Flag as Inaccurate</button>
</div>

<div id="blessing-scroll" class="scroll">
  <h2>Blessing Scroll</h2>
  <p><strong>Steward:</strong> <span id="scroll-owner"></span></p>
  <p><strong>Echo:</strong> <span id="scroll-echo"></span></p>
  <p><strong>Timestamp:</strong> <span id="scroll-time"></span></p>
  <p><strong>Constellation:</strong> <span id="scroll-glyph"></span></p>
  <button onclick="window.print()">Print Scroll</button>
</div>
<div id="glyph-selector" class="modal">
  <h3>Choose Your Glyph</h3>
  <div class="glyph-grid">
    <span onclick="selectGlyph('🜁')">🜁</span>
    <span onclick="selectGlyph('🜂')">🜂</span>
    <span onclick="selectGlyph('🜃')">🜃</span>
    <span onclick="selectGlyph('🜄')">🜄</span>
    <span onclick="selectGlyph('★')">★</span>
    <span onclick="selectGlyph('✦')">✦</span>
    <span onclick="selectGlyph('☉')">☉</span>
    <span onclick="selectGlyph('☽')">☽</span>
  </div>
  <button onclick="closeGlyphSelector()">Close</button>
</div>

<section id="quarterly-summary">
  <h2>Quarterly Blessing Summary</h2>
  <div id="summary-feed"></div>
</section>
<section id="glyph-evolution">
  <h2>Glyph Evolution Timeline</h2>
  <div id="glyph-feed"></div>
</section>
<span class="glyph-echo-warning" title="2 strikes this quarter"></span>
</div>
<div class="blessing-scroll">
  <h2>🌟 Blessing Scroll</h2>
  <p><strong>Steward:</strong> Bo</p>
  <p><strong>Echo:</strong> Vintage Oak Bench</p>
  <p><strong>Timestamp:</strong> Oct 29, 2025</p>
  <p><strong>Constellation Glyph:</strong> 🪵</p>
</div>
<button onclick="window.print()">Print Blessing Scroll</button>
<div class="blessing-scroll">
  <h2>🌟 Blessing Scroll</h2>
  <p><strong>Steward:</strong> Bo</p>
  <p><strong>Echo:</strong> Vintage Oak Bench</p>
  <p><strong>Timestamp:</strong> Oct 29, 2025</p>
  <p><strong>Constellation Glyph:</strong> 🪵</p>
</div>

<p><strong>Referral Blessing:</strong> 🌿 Offered via Willow</p>

<div class="blessing-scroll">
  <h2>🌟 Blessing Scroll</h2>
  <p><strong>Steward:</strong> Bo</p>
  <p><strong>Echo:</strong> Vintage Oak Bench</p>
  <p><strong>Timestamp:</strong> Oct 29, 2025</p>
  <p><strong>Constellation Glyph:</strong> 🪵</p>
  <p><strong>Referral Blessing:</strong> 🌿 Offered via Willow</p>
</div>

<p><strong>Steward:</strong> <span class="steward-name">Bo</span></p>

<p class="uid-watermark"><em>Steward UID:</em> uid_ABC123</p>

<div class="qr-code">
  <!-- QR code linking to steward profile or listing -->
</div>
<div class="blessing-scroll" id="scroll-${listingID}">
  <!-- Scroll content here -->
</div>
<button onclick="printScroll('${listingID}')">🖨️ Print Scroll</button>
<button onclick="downloadScroll('${listingID}')">📥 Save as PDF</button>